<div class="row col-md-12 {{isDependentView ? 'm-0' : ''">

    <div class="col-md-12 m-t-10 m-b-20">
      <div *ngIf="!isDependentView" class="fa-2x m-b-20">
        Manage Address
      </div>
      
      <i *ngIf="isDependentView" title="Back" aria-hidden="true" class="fa fa-chevron-left fa-3x  pull-left col-i2h cur-p" (click)="backToDependentView()"></i>
      <div *ngIf="isDependentView" class="fa-2x">
        Add / Select Address
      </div>
      <div class="plus-div">
        <a *ngIf="!isDependentView" data-toggle="modal" data-backdrop="static" data-keyboard="false" href="#addEditAddressModal">
          <i class="fa fa-plus fa-3x pull-left col-i2h cur-p" aria-hidden="true"></i>
        </a>
        <a *ngIf="isDependentView" (click)="addAddressinDependentView()">
          <i class="fa fa-plus fa-3x pull-left col-i2h cur-p" aria-hidden="true"></i>
        </a>
        <a id="showAddAdressModal" class="hide" data-toggle="modal" data-backdrop="static" data-keyboard="false" href="#addEditAddressModal">showAddAdressModal</a>
      </div>

    <!-- Saved address -->
      <div *ngIf="!addressInfo" class="col-md-12 m-t-10 text-center">
        <i class="fa fa-spinner fa-spin fa-3x col-000"></i>
      </div>
      <div *ngIf="addressInfo && addressInfo.length == 0" class="text-center sidenav-title">
        <i class="fa fa-user-times fa-lg" aria-hidden="true"></i>
        No address saved!
      </div>
      <div *ngIf="addressInfo && addressInfo.length > 0" class="col-md-12 m-t-10 add-address-div p-0">

        <div *ngFor="let aInfo of addressInfo" (click)="isDependentView ? selectDefaultAddress(aInfo) : null"
         class="bg-alt {{(selectedAddress && selectedAddress.id === aInfo.id) ? selectedAddress.css : ''}} {{isDependentView ? 'dependent-address' : ''}}">
          <div class="col-md-12">
            <div class="text-center pull-left address-tag cur-p {{aInfo.default ? 'default' : '' }}"
             attr.addid="{{aInfo.id}}" title="Make default Address" (click)="isDependentView ? null : makeDefault(aInfo.id)">{{aInfo.tag}}</div>
            <div class="col-md-10 pull-right ">
              <div *ngIf="!isDependentView" class="pull-right m-l-10" title="Delete this address">
                <a data-toggle="modal" data-backdrop="static" data-keyboard="false" href="#confirmDeleteModal" (click)="confirmDelAddress(aInfo)">
                  <i class="fa fa-trash-o fa-2x col-i2h" aria-hidden="true" ></i>
                </a>
              </div>
              <div *ngIf="!isDependentView" class="text-center pull-right m-l-10" title="Edit this address">
                <!-- <i class="fa fa-pencil fa-2x col-i2h cur-p" aria-hidden="true" (click)="editAddress(aInfo, false)"></i> -->
                <a data-toggle="modal" data-backdrop="static" data-keyboard="false" href="#addEditAddressModal" (click)="passSelectedAddress(aInfo, false)">
                  <i class="fa fa-pencil fa-2x col-i2h cur-p" aria-hidden="true" ></i>
                </a>
              </div>
            </div>
          </div>

          <div class="col-md-12" title="{{aInfo.name}}">
            <i class="fa fa-id-card-o fa-lg added-address-icon" aria-hidden="true"></i>              
            <label class="text-trim col-md-11 pull-left text-cap">{{aInfo.name}}</label>
          </div>
          
          <div class="col-md-12" title="{{aInfo.altContact ? (aInfo.contact + ', ' + aInfo.altContact) : aInfo.contact}}">
            <i class="fa fa-mobile fa-lg added-address-icon" aria-hidden="true"></i>              
            <label class="text-trim col-md-11 pull-left text-cap">{{aInfo.altContact ? (aInfo.contact + ', ' + aInfo.altContact) : aInfo.contact}}</label>
          </div>
                  
          <div class="col-md-12" title="{{aInfo.address}}{{aInfo.landmark ? ', ' + aInfo.landmark : ''}}{{', ' + aInfo.locality}}">
            <i class="fa fa-home fa-lg added-address-icon" aria-hidden="true"></i>
            <label class="text-trim col-md-11 text-cap">
              {{aInfo.address}}{{aInfo.landmark ? ', ' + aInfo.landmark : ''}}{{', ' + aInfo.locality}}
            </label>
          </div>

          <div class="col-md-12" title="{{aInfo.city + ', ' + aInfo.state + ' - ' + aInfo.pincode}}">
            <i class="fa fa-map-marker fa-lg added-address-icon" aria-hidden="true"></i>
            <label class=" col-md-11 text-cap">{{aInfo.city + ', ' + aInfo.state + ' - ' + aInfo.pincode}}</label>
          </div>

        </div>
      </div>

    </div>

</div>
<div class="{{overlapDependentModal ? 'overlapDependentModal' : ''}}">
  <app-add-edit-address [modifiedAddressInfo]="addressInfo" (addressChange)="onAddressChanged($event)" [overlapDependentModal]="overlapDependentModal"
   [passedSelectedAddressObj]="selectedAddressObj" (selectedAddressChange)="onSelectedAddressChanged($event)"></app-add-edit-address>
</div>


<!-- Delete Address Confirmation Modal -->
<div class="modal fade" id="confirmDeleteModal" role="dialog">
  <div class="modal-dialog">
    <!-- Modal content-->
    <div class="center-card delete-modal">
      <div class="header-cap">
        <i class="fa fa-user-circle fa-5x"></i>
      </div>

      <div class="header-content {{delNotif?.show ? 'header-content-notif' : ''}}">

        <div class="col-md-12 m-b-10 text-center">
          Confirm Address Delete ?
        </div>

        <div class="col-md-12 p-0 m-t-10 text-center">
          <button type="button" class="cancel m-r-20 btn btn-i2h" data-dismiss="modal" (click)="closeDelModal()">Cancel</button>

          <button type="submit" class="m-l-20 btn btn-form btn-i2h" disabled="{{(selectedAddress && !deleteProgress) ? null : 'true' }}"
            (click)="(selectedAddress && !deleteProgress) ? deleteAddress() : null">
            Delete
            <i *ngIf="deleteProgress" class="fa fa-spinner fa-spin inline-loader col-fff"></i>
          </button>
        </div>

        <div id="notification-block" class="col-md-12 p-0 m-t-10">
          <div *ngIf="delNotif?.show" role="alert" class="text-center alert {{delNotif.classCss}} alert-fade-in alert-dismissible">
            <button type="button" class="close" aria-label="Close" (click)="closeDelNotif()">
              <span aria-hidden="true">&times;</span>
            </button>
            <i class="fa fa-info-circle"></i> &nbsp; {{delNotif?.message}}
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

