<div class="row col-md-12 m-t-10">

    <div class="col-md-12 m-t-10 m-b-20">
      <div class="fa-2x">
        Manage Address
      </div>
      <div class="col-md-12 m-t-10 add-address-div p-r-0">

        <div class="col-md-12 row m-t-10 m-b-10">
          <i class="fa fa-plus fa-3x pull-left col-i2h cur-p" aria-hidden="true" (click)="showAdressTemplate()"></i>
          <button type="button" class="btn btn-i2h" (click)="showAdressTemplate()">Add Address</button>        
        </div>
        
        <div *ngIf="showTemplate" class="col-md-12 row m-t-10 m-b-10 p-0" style="transition-duration: 1s">

          <div class="col-md-6">
            <div class="input-effect-div input-effect m-t-10 m-b-10">
              <input type="text" class="labelled-effect" required="true" [(ngModel)]="addressName" (keyup)="enableAddButton($event)" (focusout)="handleLabelName($event)"/>
              <label>Name</label>
              <span class="focus-bg"></span>
              <i class="fa fa-user fa-lg input-icon" aria-hidden="true"></i>
            </div>
          </div>

          <div class="col-md-6">
            <div class="input-effect-div input-effect m-t-10 m-b-10">
              <input type="text" class="labelled-effect" (keydown)="allowOnlyNumbers($event)" (paste)="pasteOnlyNumbers($event)"
                [(ngModel)]='addressContact' (keyup)="enableAddButton($event)" (focusout)="handleLabelName($event)"/>
              <label>Contact</label>
              <span class="focus-bg"></span>
              <i class="fa fa-hashtag fa-lg input-icon" aria-hidden="true"></i>
            </div>
          </div>

          <div class="col-md-12 row">
            <div class="col-md-6 m-t-10 m-b-10 p-r-0">
              <div class="input-effect-div input-effect">
                <input type="text" class="labelled-effect" required="true" [(ngModel)]="addressLine" (keyup)="enableAddButton($event)" (focusout)="handleLabelName($event)"/>
                <label>Address</label>
                <span class="focus-bg"></span>
                <i class="fa fa-user fa-lg input-icon" aria-hidden="true"></i>
              </div>
            </div>
            <div class="col-md-1 m-t-10 m-b-10 text-center" title="Find in map">
              <!-- <button type="button" class="btn btn-i2h" (click)="createAdress()"> -->
                <!-- Find in map -->
                <i class="fa fa-map-marker fa-3x col-i2h cur-p" aria-hidden="true" (click)="showMap()"></i>
              <!-- </button> -->
            </div>
            <div class="col-md-1 m-t-10 m-b-10 p-0" title="Add new address">
                <i class="fa fa-plus-circle fa-3x {{ enabledAddBtn ? 'col-i2h cur-p' : 'cur-disabled'}} " aria-hidden="true" (click)="enabledAddBtn ? createAdress() : null"></i>
              <!-- <button type="button" class="btn btn-i2h pull-right col-md-12" (click)="createAdress()">Add</button> -->
            </div>
          </div>
        </div>
      
      </div>
          
      <div *ngIf="addressInfo.length > 0" class="col-md-12 m-t-10 add-address-div p-0 {{showTemplate ? '' : 'extend'}}">
        <!-- <div *ngIf="!userInfo" class="progressDiv">
          <div class="progress">
            <div class="progress-bar progress-bar-striped bg-i2h active" role="progressbar" aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"
              style="width:50%">
              50% Complete
            </div>
          </div>
        </div> -->
        
        <div *ngFor="let aInfo of addressInfo" class="bg-alt">
          
          <div class="col-md-6">
            <!-- <div class="input-effect-div input-effect m-t-10 m-b-10"> -->
              <!-- <span class="labelled-effect has-content"></span> -->
              <div class="col-md-2">
                <label>Name</label>
              </div>
              <div class="col-md-10" title="{{aInfo.name}}">
                <label class="trim-text">{{aInfo.name}}</label>
              </div>
              <!-- <span class="focus-bg"></span> -->
              <!-- <i class="fa fa-user fa-lg input-icon" aria-hidden="true"></i> -->
            <!-- </div> -->
          </div>
          
          <div class="col-md-6">
            <!-- <div class="input-effect-div input-effect m-t-10 m-b-10"> -->
              <!-- <input type="text" class="labelled-effect has-content" value="{{aInfo.addressContact}}" /> -->
              <!-- <span class="labelled-effect has-content"></span> -->
              <div class="col-md-2">
                <label class="trim-text">Contact</label>
              </div>
              <div class="col-md-10" title="{{aInfo.contact}}">              
                <label class="trim-text">{{aInfo.contact}}</label>
              </div>
              <!-- <span class="focus-bg"></span> -->
              <!-- <i class="fa fa-hashtag fa-lg input-icon" aria-hidden="true"></i> -->
            <!-- </div> -->
          </div>
          
          <div class="col-md-12">
            <div class="col-md-6 row">
              <!-- <div class="input-effect-div input-effect"> -->
                <!-- <input type="text" class="labelled-effect has-content" value="" /> -->
                <!-- <span class="labelled-effect has-content"></span> -->
                <div class="col-md-2">
                  <label>Address</label>
                </div>
                <div class="col-md-10" title="{{aInfo.address}}">
                  <label class="trim-text">{{aInfo.address}}</label>
                </div>
                <!-- <span class="focus-bg"></span> -->
                <!-- <i class="fa fa-user fa-lg input-icon" aria-hidden="true"></i> -->
              <!-- </div> -->
            </div>
            <div class="col-md-1 text-center m-l-20" title="Find in map">
              <!-- <button type="button" class="btn btn-i2h" (click)="createAdress()"> -->
              <!-- Find in map -->
              <i class="fa fa-pencil fa-2x col-i2h cur-p" aria-hidden="true" (click)="editAddress()"></i>
              <!-- </button> -->
            </div>
            <div class="col-md-1 text-center" title="Add new address">
              <i class="fa fa-trash-o fa-2x col-i2h cur-p" aria-hidden="true" (click)="deleteAddress()"></i>
            </div>
          </div>
        </div>
      </div>
    </div>


</div>


<!-- Change Password Modal -->
<div class="modal fade" id="changePasswordModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="center-card">
        <div class="header-cap">
          <i class="fa fa-user-circle fa-5x"></i>
        </div>
        <div class="header-content {{passwordNotif?.show ? 'header-content-notif' : ''}}">
          <div class="input-effect-div input-effect m-t-20 m-b-10">
            <input type="password" class="labelled-effect" (focusout)="handleLabelName($event); validateOldPassword()" />
            <label>Old Password</label>
            <span class="focus-bg"></span>
            <i *ngIf="!pswdValidatorLoader && invalidPassword" class="fa fa-key fa-lg input-icon" aria-hidden="true"></i>
            <i *ngIf="pswdValidatorLoader" class="fa fa-spinner fa-spin inline-loader fa-lg col-000 input-icon"></i>
            <i *ngIf="!invalidPassword" class="fa fa-check fa-lg input-icon col-success" aria-hidden="true"></i>
          </div>

          <div class="col-md-12 m-b-10 text-center">
            (or)
          </div>

          <div class="input-effect-div input-effect m-b-10" style="width: 60%;">
            <input style="display:none" comment="to turn off autocomplete for OTP box, coz chrome enbales it for first input">
            <input type="text" class="labelled-effect" (focusout)="handleLabelName($event); validateOTP()" (keydown)="allowOnlyNumbers($event)"
              (paste)="pasteOnlyNumbers($event)" />
            <label>OTP</label>
            <span class="focus-bg"></span>
            <i *ngIf="!otpValidatorLoader" class="fa fa-hashtag fa-lg input-icon" aria-hidden="true"></i>
            <i *ngIf="otpValidatorLoader" class="fa fa-spinner fa-spin inline-loader fa-lg col-000 input-icon"></i>
            <!-- <i *ngIf="!invalidOTP" class="fa fa-check fa-lg input-icon col-success" aria-hidden="true"></i> -->
          </div>

          <div class="col-md-4 p-0 m-b-10 fl-r" style="z-index: 1;">
            <button type="button" id="otp-btn" class="btn btn-form btn-i2h fl-r" (click)="mailOTP()">
              Send OTP
              <i *ngIf="mailProgress" class="fa fa-spinner fa-spin inline-loader col-fff"></i>
            </button>
          </div>


          <div class="input-effect-div input-effect m-t-20 m-b-10">
            <input type="password" class="labelled-effect new-password" (focusout)="handleLabelName($event); checkPasswordMatch()" (keyup)="validateNP();" />
            <label>New Password</label>
            <span class="focus-bg"></span>
            <i *ngIf="invalidNewPassword" class="fa fa-key fa-lg input-icon" aria-hidden="true"></i>
            <i *ngIf="!invalidNewPassword" class="fa fa-check fa-lg input-icon col-success" aria-hidden="true"></i>
          </div>

          <div class="input-effect-div input-effect m-t-20 m-b-10">
            <input type="password" class="labelled-effect new-password" (focusout)="handleLabelName($event); checkPasswordMatch()" (keyup)="validateCP();" />
            <label>Confirm Password</label>
            <span class="focus-bg"></span>
            <i *ngIf="invalidConfirmPassword" class="fa fa-key fa-lg input-icon" aria-hidden="true"></i>
            <i *ngIf="!invalidConfirmPassword" class="fa fa-check fa-lg input-icon col-success" aria-hidden="true"></i>
          </div>

          <div class="col-md-12 p-0 m-t-10 text-center">
            <button type="button" id="cancel" class="btn btn-i2h pull-left" data-dismiss="modal">Cancel</button>

            <button type="submit" class="col-md-7 btn btn-form btn-i2h pull-right" disabled="{{enableSaveBtn ? null : 'true'}}">
              Change Password
              <i *ngIf="passwordProgress" class="fa fa-spinner fa-spin inline-loader col-fff"></i>

            </button>
          </div>

          <div id="notification-block" class="col-md-12 p-0 m-t-10">
            <div *ngIf="passwordNotif?.show" role="alert" class="text-center alert {{passwordNotif.classCss}} alert-fade-in alert-dismissible">
              <button type="button" class="close" aria-label="Close" (click)="closePasswordNotif()">
                <span aria-hidden="true">&times;</span>
              </button>
              <i class="fa fa-info-circle"></i> &nbsp; {{passwordNotif?.message}}
            </div>
          </div>

        </div>
      </div>
    </div>
</div>